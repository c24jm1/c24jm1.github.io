<!DOCTYPE html>
<html>
<head>

	<link href = "https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap" rel="stylesheet">

	<title>Codesketch one!</title>

	<style type = "text/css">

		#sentence {
			font-size: 80px;
			font-family: 'architects daughter';

		}
		#label {
			font-size: 30;
			font-family: 'times new roman'
		}

		#box{
			background-color: rgb(50, 210, 11);
			transition:2s;
		}
		#box:hover{
			background-color: aqua;
			border-radius: 20%;
			transform: rotateX(720deg);
		}
		.output {
			font-size: 20px;
			font-family: 'architects daughter';
		}
		.outputbox{
			background-color: lavender;
			height: 80px;
		}


	</style>

</head>
<body>
	<div id = "box">

	<p id= "sentence">Welcome to My Encryption Codesketch! </p>

	</div>

	<p id = "label"> Put in a number here! </p>

	<input id = "input2"> </input>
	<br>
	<br>
	<p id = "label"> Put in what you want to encrypt here! </p>
	<input id = "input">   </input>

	<button id = "cat">SUBMIT </button>
	<div class = "outputbox"> </div>

	<script type="text/javascript">
		
		var array = [
			"bob",
			"a",
			"b",
			"c",
			"d",
			"e",
			"f",
			"g",
			"h",
			"i",
			"j",
			"k",
			"l",
			"m",
			"n",
			"o",
			"p",
			"q",
			"r",
			"s",
			"t",
			"u",
			"v",
			"w",
			"x",
			"y",
			"z",
		]

		var arrayy = [
		"billy",
		"A",
		"B",
		"C",
		"D",
		"E",
		"F",
		"G",
		"H",
		"I",
		"J",
		"K",
		"L",
		"M",
		"N",
		"O",
		"P",
		"Q",
		"R",
		"S",
		"T",
		"U",
		"V",
		"W",
		"X",
		"Y",
		"Z",

		]

		var button = document.getElementById("cat");
		//maybe make a input box for putting in how much you want to shift?
		var input_box2 = document.getElementById("input2")
		var input_box = document.getElementById("input")

		button.addEventListener("click", function(){
			var input2 = Number(input_box2.value);
			if(Number.isInteger(input2)!= true){
					firstthing = "Oops! It looks like you didn't put an integer into the first box. Can you try that again?"
					var obox = document.querySelector(".outputbox");
     		    	obox.innerText = firstthing;
     		    	return
				}
			else{

			var input = input_box.value;

			var array2 = Array.from(input);
			//turn each element into number
			var conversion = " ";
			var conversion2 = " ";
			var normletterindex = new Array();
			var capletterindex = new Array();
			var notletterindex = new Array();
			var notletterstuff = new Array();
			everythinglength = 0;
			s = 0;
			r = 0;
			n=0;
			for(var i = 0; i< input.length; i++){
				everythinglength +=1;
				for(j = 1; j<27; j++){
					if(array2[i] == array[j]){
						conversion += array.indexOf(array2[i]) + " ";
						normletterindex[s] = i;
						s++;
					}
					else if(array2[i] == arrayy[j]){
						capletterindex[n] = i;
						n++;
						conversion2 += arrayy.indexOf(array2[i]) + " ";
					}
				}
				if(s+n+r != everythinglength){
					notletterindex[r] = i;
					notletterstuff[r] = array2[i];
					r++;
					everythinglength = s + n + r;
//If there's two symbols, it'll only count one of them. If there's one, it'll count everything after the exclam as a symbol.
//this part might(?) be related to the everythinglength -= 1 part maybe?
//If the exclams are separated, it doesn't work too. 
//no clue why this one doesn't work. 
					}
				}
			


			//console.log(conversion);
			//add a set number to each number; right now the numbers are chars/strings not ints. Use Number() for this.

				var array32 = Array.from(conversion2);
				j = 0;
				var ar = new Array();
				for(i = 0; i<conversion2.length; i++){
					if(array32[i] == " "){
						ar[j] = i;
						j++
					}
				}

				j = 0;
				var ar2 = new Array();
				for(i = 0; i<ar.length-1; i++){
					ar2[j] = conversion2.substring(ar[i]+1,ar[i+1]);
					j++
				}
				j = 0;
				var ar3 = new Array();
				for(i = 0; i<ar2.length; i++){
					ar3[j] = Number(ar2[i])+input2;
					j++
				}
				conversion2 = "";
				for(i = 0; i<ar3.length;i++){
					if(ar3[i]%26==0){
						conversion2 += arrayy[26];
					}
					else{
						conversion2 += arrayy[ar3[i]%26];
					}
					
				}

			//where cap end and normal begins
			
			var array3 = Array.from(conversion);

			     j = 0; 
			     var arr = new Array();

        for (i = 0; i < conversion.length; i++){
             if (array3[i] == " " ) { 
               arr[j] = i;  
               j++;   // bump up the arr2 index
			}
     }
     			j=0;
     			var arr2 = new Array();
     			for(i = 0; i<arr.length-1; i++){
     				arr2[j] = conversion.substring(arr[i]+1,arr[i+1] );
     				j++;
     }

     		j = 0;
     		var arr3 = new Array();
     		//arr3 is now having the numerical forms plus amount.
     		for(i = 0; i<arr2.length; i++){
     			arr3[j] = Number(arr2[i])+input2;
     			j++;
     		}

     		conversion = "";

     		for(i = 0; i<arr3.length; i++){
     			if(arr3[i]<=26){
     				conversion += array[arr3[i]];
}
				else if(arr3[i]>26){
					conversion += array[arr3[i]%26]
				}
     		}

     		hopefullylastarray1 = Array.from(conversion);
     		hopefullylastarray2 = Array.from(conversion2);


     		var lastconversion = "";
     		for(i = 0; i<input.length; i++){
     			for(j = 0; j<conversion.length; j++){
     				if(normletterindex[j]== i){
     					lastconversion += hopefullylastarray1[j];
     						}
     			}
     			for(k = 0; k<conversion2.length; k++){
     				if(capletterindex[k] == i){
     					lastconversion += hopefullylastarray2[k];
     						}
     				}
     			for(l = 0; l<notletterindex.length; l++){
     				if(notletterindex[l]==i){
     					lastconversion += notletterstuff[l];
     						}
     					}	
     		}


     		    var obox = document.querySelector(".outputbox");
     		    obox.innerText = lastconversion;
     		}
})

</script>



</body>


</html>